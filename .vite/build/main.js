"use strict";const s=require("path"),{app:e,BrowserWindow:a,screen:l,autoUpdater:t}=require("electron");t.setFeedURL({url:"https://dist.unlock.sh/v1/electron"});t.checkForUpdates();setInterval(()=>{t.checkForUpdates()},1e3);require("update-electron-app")({updateInterval:"1 minute"});console.log("app.getAppPath()",e.getAppPath());t.on("update-downloaded",(o,n,r)=>{t.quitAndInstall()});const i=()=>{const{width:o,height:n}=l.getPrimaryDisplay().workAreaSize,r=Math.round(o*.75),d=Math.round(n*.75);new a({width:r,height:d,webPreferences:{nodeIntegration:!0,contextIsolation:!0,preload:s.join(__dirname,"preload.js")}}).loadURL("http://localhost:5173")};e.on("ready",()=>{i(),require("update-electron-app")({updateInterval:"1 minute",notifyUser:!0})});e.on("window-all-closed",()=>{process.platform!=="darwin"&&e.quit()});e.on("activate",()=>{a.getAllWindows().length===0&&i()});
